"use strict";(self.webpackChunkmy_app4=self.webpackChunkmy_app4||[]).push([[66],{1066:(e,i,r)=>{r.r(i),r.d(i,{default:()=>q});var n=r(5043),a=r(8613),d=r(1906),t=r(5376),s=r(4144),l=r(8903),c=r(6446),m=r(6325),o=r(5865),p=r(8757),x=r(8279),h=r(5969),u=r(4858),g=r(3003),j=r(1698),A=r(3216),b=(r(2177),r(579));const f=(0,x.A)();function q(){var e,i;const{id:r}=(0,A.g)(),x=(0,g.wA)(),q=(0,g.d4)((e=>e.product));console.log(q.sdata);const[y,v]=(0,n.useState)();(0,n.useEffect)((()=>{x((0,j.X0)(r))}),[x]),(0,n.useEffect)((()=>{q.sdata&&(w("name",q.sdata.name),w("price",q.sdata.price),w("description",q.sdata.description),w("brand",q.sdata.brand))}),[q.sdata]);const{register:F,handleSubmit:W,setValue:w,formState:{errors:T}}=(0,u.mN)();return(0,b.jsx)(h.A,{theme:f,children:(0,b.jsxs)(p.A,{component:"main",maxWidth:"xs",children:[(0,b.jsx)(t.Ay,{}),(0,b.jsxs)(c.A,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,b.jsx)(a.A,{sx:{m:1,bgcolor:"secondary.main"},children:(0,b.jsx)(m.A,{})}),(0,b.jsx)(o.A,{component:"h1",variant:"h5",children:"Update Product"}),(0,b.jsxs)(c.A,{component:"form",noValidate:!0,onSubmit:W((e=>{const i=new FormData;i.append("name",e.name),i.append("price",e.price),i.append("description",e.description),i.append("brand",e.brand),i.append("image",e.image[0]),x((0,j._q)({payload:i,id:r}))})),sx:{mt:3},children:[(0,b.jsxs)(l.Ay,{container:!0,spacing:2,children:[(0,b.jsx)(l.Ay,{item:!0,xs:12,sm:6,children:(0,b.jsx)(s.A,{...F("name",{required:!0}),name:"name",required:!0,fullWidth:!0,id:"name",autoFocus:!0,error:T.name,helperText:T.name&&"name is required"})}),(0,b.jsx)(l.Ay,{item:!0,xs:12,sm:6,children:(0,b.jsx)(s.A,{...F("price",{required:!0}),required:!0,fullWidth:!0,id:"price",name:"price",error:T.price,helperText:T.price&&"price is required"})}),(0,b.jsx)(l.Ay,{item:!0,xs:12,children:(0,b.jsx)(s.A,{...F("description",{required:!0}),required:!0,fullWidth:!0,id:"description",name:"description",error:T.description,helperText:T.description&&"description is required"})}),(0,b.jsx)(l.Ay,{item:!0,xs:12,children:(0,b.jsx)(s.A,{...F("brand",{required:!0}),required:!0,fullWidth:!0,name:"brand",id:"brand",error:T.brand,helperText:T.brand&&"brand is required"})}),(0,b.jsxs)(l.Ay,{item:!0,xs:12,children:[(0,b.jsx)(s.A,{...F("image",{required:!0}),required:!0,fullWidth:!0,name:"image",id:"image",type:"file",onChange:e=>v(e.target.files[0]),error:T.image,helperText:!y&&T.image&&"image is required"}),""!==y&&null!==y&&void 0!==y?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("img",{src:URL.createObjectURL(y),alt:"hello world",height:"200px"})}):(0,b.jsx)(b.Fragment,{children:""===(null===(e=q.sdata)||void 0===e?void 0:e.image)?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("img",{alt:""})}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("img",{src:null===(i=q.sdata)||void 0===i?void 0:i.image,alt:"hello world",height:"200px"})})})]})]}),"idle"===q.status?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(d.A,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Submit"})}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(d.A,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Loading..."})})]})]})]})})}}}]);
//# sourceMappingURL=66.0e2e69b2.chunk.js.map